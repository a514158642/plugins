(function(b){function a(c,d){this.num=c;this.el=d}a.prototype={setCaretPosition:function(e){var c=this.el[0];if(c.setSelectionRange){c.focus();c.setSelectionRange(e,e)}else{if(c.createTextRange){var d=c.createTextRange();d.collapse(true);d.moveEnd("character",e);d.moveStart("character",e);d.select()}}},getCursortPosition:function(){var e=0;var d=this.el[0];if(document.selection){d.focus();var c=document.selection.createRange();c.moveStart("character",-d.value.length);e=c.text.length}else{if(d.selectionStart||d.selectionStart=="0"){e=d.selectionStart}}return e},setValue:function(){var j=this;var l=j.el;var h=j.num||4;var e=l.val();if(!e){return false}var f=j.getCursortPosition();e=e.replace(/\s/g,"");var c="";for(var g=0;g<e.length;g++){if(g>0&&g%h==0){c=c+" "+e.charAt(g)}else{c=c+e.charAt(g)}}var d=event.keyCode||event.which;var k=f;if(f%(h+1)==0&&d!=37&&d!=39){if(d==8){k=f-1}else{k=f+1}}l.val(c);j.setCaretPosition(k)}};b.fn.autoSplitNumber=function(d){var e=this;var c=new a(d,e);e.keyup(function(){c.setValue()})}}(jQuery));