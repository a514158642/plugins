(function(b){function a(c,d){this.num=c;this.el=d;this.timer=undefined}a.prototype={setCaretPosition:function(e){var c=this.el[0];if(c.setSelectionRange){c.focus();c.setSelectionRange(e,e)}else{if(c.createTextRange){var d=c.createTextRange();d.collapse(true);d.moveEnd("character",e);d.moveStart("character",e);d.select()}}},getCursortPosition:function(){var e=0;var d=this.el[0];if(document.selection){d.focus();var c=document.selection.createRange();c.moveStart("character",-d.value.length);e=c.text.length}else{if(d.selectionStart||d.selectionStart=="0"){e=d.selectionStart}}return e},setValue:function(f){var g=this;var e=g.el;var d=g.num||4;var c=e.val();if(!c){return false}clearTimeout(g.timer);g.timer=setTimeout(function(){var m=g.getCursortPosition();c=c.replace(/\s/g,"");var k="";for(var j=0;j<c.length;j++){if(j>0&&j%d==0){k=k+" "+c.charAt(j)}else{k=k+c.charAt(j)}}var l=f.keyCode||f.which;var h=m;if(m%(d+1)==0&&l!=37&&l!=39){if(l==8){h=m-1}else{h=m+1}}e.val(k);g.setCaretPosition(h)}.bind(g),10)}};b.fn.autoSplitNumber=function(d){var e=this;var c=new a(d,e);var f=undefined;e.keyup(function(){c.setValue(event)})}}(jQuery));